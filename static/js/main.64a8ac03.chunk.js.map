{"version":3,"sources":["App.tsx","css.ts","index.tsx"],"names":["window","React","scriptGistUrl","App","useState","currentPlugin","setCurrentPlugin","count","setCount","currentUrl","setCurrentUrl","currentPluginName","setCurrentPluginName","_CSS_","css","setCss","getDynamicComponent","a","console","log","fetch","res","text","eval","Plugin","handlerClick","newCount","className","htmlFor","id","type","style","width","onChange","e","target","value","dangerouslySetInnerHTML","__html","onClick","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"q6CAIAA,OAAOC,MAAQA,6CACf,IAAMC,cAAgB,uIAEtB,SAASC,MAAO,IAAD,UAC6BC,oDAAc,MAD3C,qMACNC,cADM,cACSC,iBADT,yBAEaF,oDAAS,GAFtB,sMAENG,MAFM,cAECC,SAFD,yBAGuBJ,oDAASF,eAHhC,sMAGNO,WAHM,cAGMC,cAHN,yBAIqCN,oDAAS,cAJ9C,sMAINO,kBAJM,cAIaC,qBAJb,yBAKSR,oDAASS,qCALlB,uMAKNC,IALM,eAKDC,OALC,eAOPC,oBAAmB,yWAAG,2MAAAC,EAAA,2FAC1BC,QAAQC,IAAI,qBADc,gBAERC,MAAMX,YAFE,cAEpBY,IAFoB,8BAGPA,IAAIC,OAHG,OAGpBA,KAHoB,cAI1BC,KAAKD,MACCE,OAAexB,OAAeW,mBAEpCL,iBAAiB,2DAACkB,OAAD,CAAQjB,MAAOA,MAAOkB,aAAc,SAACC,GAAD,OAAsBlB,SAASkB,OAP1D,yDAAH,wDAUzB,OACE,sEACE,iEAAIC,UAAU,OAAd,YAGA,oEACE,oEAAOC,QAAQ,OAAf,iBACA,oEACEC,GAAI,MACJC,KAAK,OACLC,MAAO,CAAEC,MAAO,QAChBC,SAAU,SAACC,GAAD,OAAOxB,cAAcwB,EAAEC,OAAOC,QACxCA,MAAO3B,cAGX,oEACE,oEAAOmB,QAAQ,aAAf,eACA,oEACEC,GAAI,YACJC,KAAK,OACLC,MAAO,CAAEC,MAAO,QAChBC,SAAU,SAACC,GAAD,OAAOtB,qBAAqBsB,EAAEC,OAAOC,QAC/CA,MAAOzB,qBAGX,oEACE,oEAAOiB,QAAQ,aAAf,cACA,oEACEC,GAAI,MACJC,KAAK,OACLC,MAAO,CAAEC,MAAO,QAChBC,SAAU,SAACC,GAAD,OAAOnB,OAAOmB,EAAEC,OAAOC,QACjCA,MAAOtB,MAET,oEACAuB,wBAAyB,CACvBC,OAAQxB,QAIZ,wFACoBP,OAGpB,oEAEE,6FACA,sEACA,oEAAG,uFACH,sEALF,6IAOE,sEACA,oEAAG,qFACH,sEATF,aAcA,oEACE,qEACEgC,QAASvB,qBADX,gBAKF,sEAEA,kEAAKW,UAAU,mBACZtB,gBAMMF,2B,8BCjGf,kCAAO,IAAMU,EAAK,+pE,6DCAlB,0DAKAb,OAAM,SAAewC,IACrBxC,OAAM,SAAewC,IAErBA,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,IAAD,OAEFC,SAASC,eAAe,U","file":"static/js/main.64a8ac03.chunk.js","sourcesContent":["import React, { useState } from 'react';\nimport './App.css';\nimport { _CSS_ } from './css';\n\nwindow.React = React;\nconst scriptGistUrl = 'https://gist.githubusercontent.com/nsrau/69a96359ae04b77862ff2a5d40ccb0b1/raw/0eb1aac2e946f429f39868bd7d9dd378e7e9c209/PluginGrid.js'\n\nfunction App() {\n  const [currentPlugin, setCurrentPlugin] = useState<any>(null)\n  const [count, setCount] = useState(0)\n  const [currentUrl, setCurrentUrl] = useState(scriptGistUrl)\n  const [currentPluginName, setCurrentPluginName] = useState('PluginGrid')\n  const [css, setCss] = useState(_CSS_)\n\n  const getDynamicComponent = async () => {\n    console.log('dynamic component')\n    const res = await fetch(currentUrl)\n    const text = await res.text()\n    eval(text)\n    const Plugin: any = (window as any)[currentPluginName];\n\n    setCurrentPlugin(<Plugin count={count} handlerClick={(newCount: number) => setCount(newCount)} />)\n  }\n\n  return (\n    <div>\n      <h1 className=\"App\">\n        main APP\n      </h1>\n      <p>\n        <label htmlFor=\"url\">URL component</label>\n        <input\n          id={'url'}\n          type=\"text\"\n          style={{ width: '100%' }}\n          onChange={(e) => setCurrentUrl(e.target.value)}\n          value={currentUrl}\n        />\n      </p>\n      <p>\n        <label htmlFor=\"component\">plugin name</label>\n        <input\n          id={'component'}\n          type=\"text\"\n          style={{ width: '100%' }}\n          onChange={(e) => setCurrentPluginName(e.target.value)}\n          value={currentPluginName}\n        />\n      </p>\n      <p>\n        <label htmlFor=\"component\">plugin css</label>\n        <input\n          id={'css'}\n          type=\"text\"\n          style={{ width: '100%' }}\n          onChange={(e) => setCss(e.target.value)}\n          value={css}\n        />\n        <style\n        dangerouslySetInnerHTML={{\n          __html: css\n        }}\n        />\n      </p>\n      <p>\n        app state count: {count}\n      </p>\n\n      <p>\n\n        <b>another plugin 4 test</b>\n        <br />\n        <i><b>URL component:</b></i>\n        <br />\n        https://gist.githubusercontent.com/nsrau/1deb562e8df4f0a8517db36c7d2e020e/raw/770082dce1c0d80ae60d88ab43ecf33b5a75bd62/ExampleComponent.js\n        <br />\n        <i><b>plugin name:</b></i>\n        <br />\n        PluginOne\n\n      </p>\n\n      <p>\n        <button\n          onClick={getDynamicComponent}\n        >load plugin</button>\n      </p>\n\n      <hr />\n\n      <div className=\"pluginContainer\">\n        {currentPlugin}\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","export const _CSS_ = `.react-grid-layout{position:relative;transition:height .2s ease}.react-grid-item{transition:all .2s ease;transition-property:left,top}.react-grid-item.cssTransforms{transition-property:transform}.react-grid-item.resizing{z-index:1;will-change:width,height}.react-grid-item.react-draggable-dragging{transition:none;z-index:3;will-change:transform}.react-grid-item.dropping{visibility:hidden}.react-grid-item.react-grid-placeholder{background:red;opacity:.2;transition-duration:.1s;z-index:2;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none}.react-grid-item>.react-resizable-handle{position:absolute;width:20px;height:20px;bottom:0;right:0;cursor:se-resize}.react-grid-item>.react-resizable-handle::after{content:'';position:absolute;right:3px;bottom:3px;width:5px;height:5px;border-right:2px solid rgba(0,0,0,.4);border-bottom:2px solid rgba(0,0,0,.4)}.react-resizable-hide>.react-resizable-handle{display:none}body{padding:20px}#content{width:100%}.react-grid-layout{background:#eee}.layoutJSON{background:#ddd;border:1px solid #000;margin-top:10px;padding:10px}.columns{-moz-columns:120px;-webkit-columns:120px;columns:120px}.react-grid-item{box-sizing:border-box}.react-grid-item:not(.react-grid-placeholder){background:#ccc;border:1px solid #000}.react-grid-item.resizing{opacity:.9}.react-grid-item.static{background:#cce}.react-grid-item .text{font-size:24px;text-align:center;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;height:24px}.react-grid-item .minMax{font-size:12px}.react-grid-item .add{cursor:pointer}.react-grid-dragHandleExample{cursor:move;cursor:grab;cursor:-moz-grab;cursor:-webkit-grab}.toolbox{background-color:#dfd;width:100%;height:120px;overflow:scroll}.hide-button{cursor:pointer;position:absolute;font-size:20px;top:0;right:5px}.toolbox__title{font-size:24px;margin-bottom:5px}.toolbox__items{display:block}.toolbox__items__item{display:inline-block;text-align:center;line-height:40px;cursor:pointer;width:40px;height:40px;padding:10px;margin:5px;border:1px solid #000;background-color:#ddd}.droppable-element{width:150px;text-align:center;background:#fdd;border:1px solid #000;margin:10px 0;padding:10px}`","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nwindow['reactDom'] = ReactDOM;\nwindow['ReactDOM'] = ReactDOM;\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}